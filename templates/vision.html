<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- ===============================================-->
    <!--    Favicons-->
    <!-- ===============================================-->

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="{{ url_for('static', filename='assets/img/favicons/apple-touch-icon.png') }}"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="{{ url_for('static', filename='assets/img/favicons/favicon-32x32.png') }}"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="{{ url_for('static', filename='assets/img/favicons/favicon-16x16.png') }}"
    />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="{{ url_for('static', filename='assets/img/favicons/favicon.ico') }}"
    />
    <link
      rel="manifest"
      href="{{ url_for('static', filename='assets/img/favicons/manifest.json') }}"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <meta
      name="msapplication-TileImage"
      content="{{ url_for('static', filename='assets/img/favicons/mstile-150x150.png') }}"
    />
    <meta name="theme-color" content="#ffffff" />
    <script src="{{ url_for('static', filename='assets/js/config.js') }}"></script>
    <script src="{{ url_for('static', filename='vendors/overlayscrollbars/OverlayScrollbars.min.js') }}"></script>

    <!-- ===============================================-->
    <!--    Stylesheets-->
    <!-- ===============================================-->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700%7cPoppins:300,400,500,600,700,800,900&amp;display=swap"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='vendors/overlayscrollbars/OverlayScrollbars.min.css') }}"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='assets/css/theme-rtl.min.css') }}"
      rel="stylesheet"
      id="style-rtl"
    />
    <link
      href="{{ url_for('static', filename='assets/css/theme.min.css') }}"
      rel="stylesheet"
      id="style-default"
    />
    <link
      href="{{ url_for('static', filename='assets/css/user-rtl.min.css') }}"
      rel="stylesheet"
      id="user-style-rtl"
    />
    <link
      href="{{ url_for('static', filename='assets/css/user.min.css') }}"
      rel="stylesheet"
      id="user-style-default"
    />
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <script>
      var isRTL = JSON.parse(localStorage.getItem("isRTL"));
      if (isRTL) {
        var linkDefault = document.getElementById("style-default");
        var userLinkDefault = document.getElementById("user-style-default");
        linkDefault.setAttribute("disabled", true);
        userLinkDefault.setAttribute("disabled", true);
        document.querySelector("html").setAttribute("dir", "rtl");
      } else {
        var linkRTL = document.getElementById("style-rtl");
        var userLinkRTL = document.getElementById("user-style-rtl");
        linkRTL.setAttribute("disabled", true);
        userLinkRTL.setAttribute("disabled", true);
      }
    </script>
    <title>Artificial Vision</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-light navbar-light">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Reloj Checador</a
        ><button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarLightExample"
          aria-controls="navbarLightExample"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarLightExample">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a
                class="nav-link active"
                aria-current="page"
                href="{{ url_for( 'empleados') }}"
                >Empleados</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for( 'movimiento') }}"
                >Movimientos</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for( 'reconocerPersona') }}"
                >Asistencia</a
              >
            </li> 
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16">
              <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
              <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/>
            </svg>
          </ul>
          <form class="d-flex">
            <input
              class="form-control me-2"
              type="search"
              placeholder="Search"
              aria-label="Search"
            /><button class="btn btn-light" type="submit">Search</button>
          </form>
        </div>
      </div>
    </nav>
    <main class="main" id="top">
      <!-- ===============================================-->
      <!--    JavaScripts-->
      <!-- ===============================================-->
      <div class="container-xxl">
        <div class="row"><div class="col"><h1 class="font-base mb-3">Empleados</h1></div>
        <div class="col"><button class="btn btn-outline-primary me-1 mb-1" type="button" data-bs-toggle="modal"
          data-bs-target="#error-modal">Agregar</button></div>
      </div>

      <div class="" id="captura">

      </div>

        {% if capturaOk %}
          <div class="alert alert-warning alert-dismissible fade show" role="alert">
            <strong>Holy guacamole!</strong> You should check in on some of those fields below.
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        {% endif %}

        <div class="row">
          <div
            id="tableExample2"
            data-list='{"valueNames":["Id","Nombre","Apellido1","Apellido2","Matricula","Puesto","Creado","Actualizado"],"page":10,"pagination":true}'
          >
            <div class="table-responsive scrollbar border border-facebook">
              <table class="table table-bordered table-striped fs--1 mb-0">
                <thead class="bg-200 text-900">
                  <tr>
                    <th class="sort" style="display: none;" data-sort="Id">Id</th>
                    <th class="sort" data-sort="Nombre">Nombre</th>
                    <th class="sort" data-sort="Apellido1">Apellido Paterno</th>
                    <th class="sort" data-sort="Apellido2">Apellido Materno</th>
                    <th class="sort" data-sort="Matricula">Matricula</th>
                    
                    <th class="sort" data-sort="Puesto">Puesto</th>
                    <th class="sort" data-sort="Creado">Creado</th>
                    <th class="sort" data-sort="Actualizado" colspan="2">Actualizado</th>
                  </tr>
                </thead>
                <tbody class="list">
                  {%for i in data%}
                    <tr>
                      <td class="Id" style="display:none;">{{i.id}}</td>
                      <td class="Nombre">{{i.nombre}}</td>
                      <td class="Apellido1">{{i.apellido_paterno}}</td>
                      <td class="Apellido2">{{i.apellido_materno}}</td>
                      <td class="Matricula">{{i.matricula}}</td>
                      
                      <td class="Puesto">{{i.puesto}}</td>
                      <td class="Creado">{{i.creado}}</td>
                      <td class="Actualizado">{{i.actualizado}}</td>
                      <td>
                        <button
                          class="btn p-0"
                          id = {{i.id}}
                          type="button"
                          data-bs-toggle="modal"
                          data-bs-target="#edit-modal"
                          title="Edit"
                          onclick="llenarDatos(this)"
                        >
                          <span class="text-500 fas fa-edit"></span>
                        </button>
                        <button
                          class="btn p-0 ms-2"
                          type="button"
                          data-bs-toggle="tooltip"
                          data-bs-placement="top"
                          id = "botonB"
                          title="Delete"
                          value = {{i.id}}
                          onclick="borrarDatos(this)"
                        >
                          <span class="text-500 fas fa-trash-alt"></span>
                        </button>
 

                         <a href="{{ url_for( 'verMovimientos', idEmpleado=i.id) }}"><span class="material-icons text-secondary fs-5">remove_red_eye</span></a>
                         <a href="{{ url_for( 'foto', empleadoId=i.id) }}"><span class="material-icons text-secondary fs-5">add_a_photo</span></a>
                        
                      </td>
                    </tr>
                  {%endfor%}

                  
                </tbody>
              </table>
            </div>
            <div class="d-flex justify-content-center mt-3">
              <button
                class="btn btn-sm btn-falcon-default me-1"
                type="button"
                title="Previous"
                data-list-pagination="prev"
              >
                <span class="fas fa-chevron-left"></span>
              </button>
              <ul class="pagination mb-0"></ul>
              <button
                class="btn btn-sm btn-falcon-default ms-1"
                type="button"
                title="Next"
                data-list-pagination="next"
              >
                <span class="fas fa-chevron-right"> </span>
              </button>
            </div>
          </div>
        </div>
      </div>
      <!-- Modal agregar-->
      <div
        class="modal fade"
        id="error-modal"
        tabindex="-1"
        role="dialog"
        aria-hidden="true"
      >
        <div
          class="modal-dialog modal-dialog-centered"
          role="document"
          style="max-width: 500px"
        >
          <div class="modal-content position-relative">
            <div class="position-absolute top-0 end-0 mt-2 me-2 z-index-1">
              <button
                class="btn-close btn btn-sm btn-circle d-flex flex-center transition-base"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body p-0">
              <div class="rounded-top-lg py-3 ps-4 pe-6 bg-light">
                <h4 class="mb-1" id="modalExampleDemoLabel">Agregar empleado</h4>
              </div>
              <div class="p-4 pb-0">
                <form
                  action="{{ url_for('createempleado') }}"
                  method="post"
                >
                  <div class="mb-3">
                    <label class="col-form-label" for="inputName"
                      >Nombre:</label
                    >
                    <input
                      class="form-control"
                      name="nombre"
                      id="inputName"
                      type="text"
                    />
                  </div>
                  <div class="mb-3">
                    <label class="col-form-label" for="inputApellido1"
                      >Apellido Paterno:</label
                    >
                    <input
                      class="form-control"
                      id="inputApellido1"
                      type="text"
                      name="apaterno"
                    />
                  </div>
                  <div class="mb-3">
                    <label class="col-form-label" for="inputApellido2"
                      >Apellido Materno:</label
                    >
                    <input
                      class="form-control"
                      id="inputApellido2"
                      type="text"
                      name="amaterno"
                    />
                  </div>
                  <div class="mb-3">
                    <label class="col-form-label" for="inputMatricula"
                      >Matricula:</label
                    >
                    <input
                      class="form-control"
                      id="inputMatricula"
                      type="text"
                      name="matricula"
                    />
                  </div>
                  <div class="mb-3">
                    <label class="col-form-label" for="selectPuesto"
                      >Puesto:</label
                    >
                    <!-- <select
                      id="selectPuesto"
                      class="form-select"
                      aria-label="Default select example"
                      name="puesto"
                    >
                      <option selected="">Puesto</option>
                      
                      <option value="1">One</option>
                      <option value="2">Two</option>
                      <option value="3">Three</option>
                    </select> -->
                    <input
                      id="selectPuesto"
                      class="form-control"
                      type="text"
                      name="puesto"
                    />
                  </div>
               
              </div>
            </div>
            <div class="modal-footer">
              <button
                class="btn btn-secondary"
                type="button"
                data-bs-dismiss="modal"
              >
                Cancelar
              </button>
              <button class="btn btn-primary" type="submit">Guardar</button>
            </form>
            </div>
          </div>
        </div>
      </div>
      <!-- fin modal agregar-->
      <!-- Modal de editar -->
      
      <div
        class="modal fade"
        id="edit-modal"
        tabindex="-1"
        role="dialog"
        aria-hidden="true"
      >
        <div
          class="modal-dialog modal-dialog-centered"
          role="document"
          style="max-width: 500px"
        >
          <div class="modal-content position-relative">
            <div class="position-absolute top-0 end-0 mt-2 me-2 z-index-1">
              <button
                class="btn-close btn btn-sm btn-circle d-flex flex-center transition-base"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body p-0">
              <div class="rounded-top-lg py-3 ps-4 pe-6 bg-light">
                <h4 class="mb-1" id="modalExampleDemoLabel">Editar empleado</h4>
              </div>
              <div class="p-4 pb-0">
                <form
                  action="{{ url_for('updateEmpleado') }}"
                  method="post"
                >
                    <input
                    class="form-control"
                    name="id"
                    id="idEmpleado"
                    type="text"
                  />
                  <div class="mb-3">
                    <label class="col-form-label" for="inputName"
                      >Nombre:</label
                    >
                    <input
                      class="form-control"
                      name="nombre"
                      id="inputName-edit"
                      type="text"
                    />
                  </div>
                  <div class="mb-3">
                    <label class="col-form-label" for="inputApellido1"
                      >Apellido Paterno:</label
                    >
                    <input
                      class="form-control"
                      id="inputApellido1-edit"
                      type="text"
                      name="apaterno"
                    />
                  </div>
                  <div class="mb-3">
                    <label class="col-form-label" for="inputApellido2"
                      >Apellido Materno:</label
                    >
                    <input
                      class="form-control"
                      id="inputApellido2-edit"
                      type="text"
                      name="amaterno"
                    />
                  </div>
                  <div class="mb-3">
                    <label class="col-form-label" for="inputMatricula"
                      >Matricula:</label
                    >
                    <input
                      class="form-control"
                      id="inputMatricula-edit"
                      type="text"
                      name="matricula"
                    />
                  </div>
                  <div class="mb-3">
                    <label class="col-form-label" for="selectPuesto"
                      >Puesto:</label
                    >
                    <!-- <select
                      id="selectPuesto"
                      class="form-select"
                      aria-label="Default select example"
                      name="puesto"
                    >
                      <option selected="">Puesto</option>
                      
                      <option value="1">One</option>
                      <option value="2">Two</option>
                      <option value="3">Three</option>
                    </select> -->
                    <input
                      id="selectPuesto-edit"
                      class="form-control"
                      type="text"
                      name="puesto"
                    />
                  </div>
               
              </div>
            </div>
            <div class="modal-footer">
              <button
                class="btn btn-secondary"
                type="button"
                data-bs-dismiss="modal"
              >
                Cancelar
              </button>
              <button id="enviar-edit" class="btn btn-primary" type="submit">Guardar</button>
            </form>
            </div>
          </div>
        </div>
      </div>
      <!-- fin modal -->
      <!-- fin de Modal de editar -->
      <script src="{{ url_for('static', filename='vendors/popper/popper.min.js') }}"></script>
      <script src="{{ url_for('static', filename='vendors/bootstrap/bootstrap.min.js') }}"></script>
      <script src="{{ url_for('static', filename='vendors/anchorjs/anchor.min.js') }}"></script>
      <script src="{{ url_for('static', filename='vendors/is/is.min.js') }}"></script>
      <script src="{{ url_for('static', filename='vendors/fontawesome/all.min.js') }}"></script>
      <script src="{{ url_for('static', filename='vendors/lodash/lodash.min.js') }}"></script>

      <script src="https://polyfill.io/v3/polyfill.min.js?features=window.scroll"></script>

      <script src="{{ url_for('static', filename='vendors/list.js/list.min.js') }}"></script>
      <script src="{{ url_for('static', filename='assets/js/theme.js') }}"></script>
      <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
      <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
      <script src="{{ url_for('static', filename='scripts/llenarDatos.js') }}"></script>
      <script src="{{ url_for('static', filename='scripts/alerta.js') }}"></script>
    </main>
  </body>
</html>
